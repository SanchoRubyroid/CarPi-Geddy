<!-- Lets talk about geddy -->
<div id="carpi-list-container"></div>

<%- scriptLink('elm/root_module/elm.js', {type:'text/javascript'}) %>

<script src="/socket.io/socket.io.js"></script>
<script>
  var container = document.getElementById('carpi-list-container');
  var elmApp = Elm.embed(Elm.CarPiList, container, { newCar: 'none', oldCar: 'noneo' })

  var socket = io.connect('http://localhost:4000');
  socket.on('car-action', function (eventName, carName) {
    if(eventName == 'set') elmApp.ports.newCar.send(carName);
    else if (eventName == 'expired') elmApp.ports.oldCar.send(carName);
  });
</script>
